<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veil: The Demo Database ERD, Tables and Views</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Veil
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('demo-model.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">The Demo Database ERD, Tables and Views </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="demo-erd"></a>
The Demo Database ERD</h1>
<div class="image">
<img src="veil_demo.png" alt="veil_demo.png" width="10cm"/>
<div class="caption">
The Veil Demo Database</div></div>
<h1><a class="anchor" id="demo-tables"></a>
Table Descriptions</h1>
<h2><a class="anchor" id="demo-privs"></a>
Privileges</h2>
<p>This table describes each privilege. A privilege is a right to do something. Most privileges are concerned with providing access to data. For each table, "X" there are 4 data privileges, SELECT_X, UPDATE_X, INSERT_X and DELETE_X. There are separate privileges to provide access to project and person details, and there is a single function privilege, <code>can_connect</code>.</p>
<h2><a class="anchor" id="demo-roles"></a>
Roles</h2>
<p>A role is a named collection of privileges. Privileges are assigned to roles through role_privileges. Roles exist to reduce the number of individual privileges that have to be assigned to users, etc. Instead of assigning twenty or more privileges, we assign a single role that contains those privileges.</p>
<p>In this application there is a special role, <code>Personal Context</code> that contains the set of privileges that apply to all users in their personal context. Since all users have the same personal context privileges, the demo application provides this role to all users implicitly; there is no need for it to be explicitly assigned.</p>
<p>Assignments of roles in the global context are made through person_roles, and in the project (relational) context through assignments.</p>
<h2><a class="anchor" id="demo-role-privs"></a>
Role_Privileges</h2>
<p>Role privileges describe the set of privileges for each role.</p>
<h2><a class="anchor" id="demo-role-roles"></a>
Role_Roles</h2>
<p>This is currently unused in the Veil demo application. Role roles provides the means to assign roles to other roles. This allows new roles to be created as combinations of existing roles. The use of this table is currently left as an exercise for the reader.</p>
<h2><a class="anchor" id="demo-persons"></a>
Persons</h2>
<p>This describes each person. A person is someone who owns data and who may connect to the database. This table should contain authentication information etc. In the demo it just maps a name to a person_id.</p>
<h2><a class="anchor" id="demo-projects"></a>
Projects</h2>
<p>A project represents a real-world project, to which many persons may be assigned to work.</p>
<h2><a class="anchor" id="demo-person-roles"></a>
Person_Roles</h2>
<p>This table describes the which roles have been assigned to users in the global context.</p>
<h2><a class="anchor" id="demo-assignments"></a>
Assignments</h2>
<p>This describes the roles that have been assigned to a person on a specific project. Assignments provide privilege to a user in the project context.</p>
<h2><a class="anchor" id="demo-detail_types"></a>
Detail_Types</h2>
<p>This is a lookup-table that describes general-purpose attributes that may be assigned to persons or project. An example of an attribute for a person might be birth-date. For a project it might be inception date. This allows new attributes to be recorded for persons, projects, etc without having to add columns to the table.</p>
<p>Each detail_type has a required_privilege field. This identifies the privilege that a user must have in order to be able to see attributes of the specific type.</p>
<h2><a class="anchor" id="demo-person_details"></a>
Person_Details</h2>
<p>These are instances of specific attributes for specific persons.</p>
<h2><a class="anchor" id="demo-project-details"></a>
Project_Details</h2>
<p>These are instances of specific attributes for specific projects.</p>
<h1><a class="anchor" id="Demo-Views"></a>
The Demo Application's Helper Views</h1>
<p>Getting security right is difficult. The Veil demo provides a number of views that help you view the privileges you have in each context.</p>
<ul>
<li>my_global_privs shows you the privileges you have in the global context</li>
<li>my_personal_privs shows you the privileges you have in the personal context</li>
<li>my_project_privs shows you the privileges you have for each project in the project context</li>
<li>my_privs shows you all your privileges in all contexts</li>
<li>my_projects shows you all the projects to which you have been assigned</li>
</ul>
<p>Using these views, access control mysteries may be more easily tracked down.</p>
<p>Next: <a class="el" href="demo-security.html">The Demo Database Security Model</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Veil</a></li><li class="navelem"><a class="el" href="Demo.html">A Full Example Application: The Veil Demo</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
