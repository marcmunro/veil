<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Veil: Variables</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Veil
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('API-variables.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Variables </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Veil variables exist to record session and system state. They retain their values across transactions. Variables may be defined as either session variables or shared variables.</p>
<p>All variables are referenced by name; the name of the variable is passed as a text string to Veil functions.</p>
<p>Session variables are private to the connected session. They are created when first referenced and, once defined, their type is set for the life of the session.</p>
<p>Shared variables are global across all sessions. Once a shared variable is defined, all sessions will have access to it. Shared variables are defined in two steps. First, the variable is defined as shared, and then it is initialised and accessed in the same way as for session variables. Note that shared variables should only be created within <a class="el" href="API-control.html#API-control-registered-init">registered initialisation functions</a> or <a class="el" href="API-control.html#API-control-init">veil_init(doing_reset bool)</a>.</p>
<p>Note that bitmap refs and bitmap hashes may not be stored in shared variables.</p>
<p>The following types of variable are supported by Veil, and are described in subsequent sections:</p><ul>
<li>integers</li>
<li>ranges</li>
<li>bitmaps</li>
<li>bitmap refs</li>
<li>bitmap arrays</li>
<li>bitmap hashes</li>
<li>integer arrays</li>
</ul>
<p>The following functions comprise the Veil variables API:</p>
<ul>
<li><code><a class="el" href="API-variables.html#API-variables-share">share(name text)</a></code></li>
<li><code><a class="el" href="API-variables.html#API-variables-var">veil_variables()</a></code></li>
</ul>
<p>Note again that session variables are created on usage. Their is no specific function for creating a variable in the variables API. For an example of a function to create a variable see <a class="el" href="API-bitmaps.html#API-bitmap-init">init_bitmap(bitmap_name text, range_name text)</a>.</p>
<h1><a class="anchor" id="API-variables-share"></a>
share(name text)</h1>
<pre class="fragment">function veil.share(name text) returns bool
</pre><p>Implemented by C function <a class="el" href="veil__funcs_8h.html#a9bd795190e7ac0776f3298d63c7b2b19" title="veil_share(name text) returns bool Define a shared variable called NAME, returning true...">veil_share()</a>, this is used to define a specific variable as being shared. A shared variable is accessible to all sessions and exists to reduce the need for multiple copies of identical data. For instance in the Veil demo, role_privileges are recorded in a shared variable as they will be identical for all sessions, and to create a copy for each session would be an unnecessary overhead. This function should only be called from <a class="el" href="API-control.html#API-control-registered-init">registered initialisation functions</a> or <a class="el" href="API-control.html#API-control-init">veil_init(doing_reset bool)</a>.</p>
<h1><a class="anchor" id="API-variables-var"></a>
veil_variables()</h1>
<pre class="fragment">function veil.veil_variables() returns setof veil_variable_t
</pre><p>This function, implemented by C function <a class="el" href="veil__funcs_8h.html#a4059966f6889dbe48e7f8e83751bb688" title="veil_variables() returns setof veil_variable_t Return a veil_variable_t record for each defined varia...">veil_variables()</a>, returns a description for each variable known to the session. It provides the name, the type, and whether the variable is shared. It is primarily intended for interactive use when developing and debugging Veil-based systems.</p>
<p>Next: <a class="el" href="API-simple.html">Basic Types: Integers and Ranges</a> </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Veil</a></li><li class="navelem"><a class="el" href="API-page.html">The Veil API</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
